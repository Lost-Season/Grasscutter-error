# Grasscutter-error
 Grasscutter错误代码
* ## 4214-错误代码

* 最常见的错误代码，此错误代码有两种情况引起。

* ### 第一种：“UserAssembly.dll”未进行修补。
需要注意的是，在3.1版本之前，用户需要修改的是“global-metadata.dat”。
而3.1版本开始，已经改成修改“UserAssembly.dll”，俗称“UA”。
* 解决方法为：按照以下路径，替换“UserAssembly.dll”。
```
国服替换文件路径为：Yuanshen_Data\Native\UserAssembly.dll
国际服替换文件路径为：GenshinImpact_Data\Native\UserAssembly.dll
历史版本替换文件路径为：GenshinImpact_Data\Managed\Metadata\global-metadata.dat
```
* 需要注意的是，每一个服务器的每一个版本都对应着不同的UserAssembly.dll。请不要混合使用补丁，如果不懂怎么区分客户端是什么版本，请往下看。
* 更换文件之前推荐重命名原文件(UserAssembly.dll)，进行备份。
* ### 第二种：修补完成UA后，代理劫持失败。
* `因为代理劫持失败有时候不会报4214，会报网络繁忙（502），所以这里通用一个解决方法。`
* 代理失败的原因真的非常非常多，请容我慢慢道来。(请使用MHY代理转向)
1. 填写错误IP端口，正确的填写方式是



* 客户端版本区别方式：

* ## 4206 错误
此类错误大多数情况为代理未正确配置，可尝试

* ### 仔细检查代理端 / 服务端所有配置

* ### 重启代理端 / 重启服务器

* ### 开启代理后运行游戏，检查服务端和代理的日志，如果代理中

没有`mihoyo.com`/`hoyoverse.com`子域的请求或者没刷新任何日志，则为客户端代理配置错误

有`mihoyo.com`/`hoyoverse.com`子域的请求，但报`TLS handshake failed`，则为客户端未安装对应服务端的证书，或服务端不能连接到相应域名

有`mihoyo.com`/`hoyoverse.com`子域的请求，但报拒绝连接等错误，可能是服务端网络问题导致无法连接米哈游服务器

如果代理没有报错，则应为服务端问题，检查服务端配置或者更新服务端

* ### 如仍无法解决，可尝试以下操作：

关闭代理正常启动游戏检查更新完后再次开代理进入游戏

修改`config.json`中`server.http.accessAddress`为`dispatchcnglobal.yuanshen.com`

另外，据经验此问题可能是服务器问题，尝试更换

* ## 登陆账号提示网络错误 / 网络超时
确认配置无误可尝试修改`config.json`中`server.http.accessAddress`为`dispatchcnglobal.yuanshen.com`然后进一遍游戏，如果能进去，就可以将此配置还原

* ## 点击登录转圈然后没反应
如果点击后服务端日志有成功登录的提示，关掉登录窗口即可进入游戏 (手机版特供 bug)
如无，请检查服务端代理是否正确运行，是否假死 (尝试重启)

* ## 502 / 4301 / 无法连接服务器
绝对是你没正确配置，自行检查

* ## 登陆后检查更新失败
如果代理日志中有`mihoyo.com`/`hoyoverse.com`子域的请求，但报拒绝连接等错误，可能是服务端网络问题导致无法连接米哈游服务器

* ## 开启代理后还是登录了官服
有其他代理冲突；服务端没有正确运行

* ## 4201
检查是否正确安装并信任证书

* ## -9203
一般为代理问题，已知 iOS 使用小火箭会存在此问题

* ## 卡检查更新
尝试正常进游戏一次后再连代理进；检查服务端网络问题，如确实没问题请尝试重启代理端 / 更换代理端口 / 重启服务器

* ## 进门后连接超时
放通 UDP 22102 。。。或者你眼瞎只改了一个 ip。。。

* ## 进门白屏
你乱改数据库改出问题了，或者服务端系统有什么大病不兼容 Java

先摆了，明天再写，打王者去了。
